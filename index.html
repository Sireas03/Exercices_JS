<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
/*
        class Book {
            #page = 1
            constructor(title, pages) {
                this.title = title
                this.pages = pages
            }

            get page () {
                return this.#page
            }

            nextPage () {
                if (this.#page < this.page)
                    this.#page++
            }

            close () {
                this.#page = 1
            }
        }

        class Library {
            #books = []
            
            addBook(book) {
                this.#books.push(book)
            }

            addBooks(books) {
                for (let book of books) {
                    this.addBook(book)
                }
            }

            findBooksByLetter(letter) {
                const found = []
                for (let book of this.#books) {
                    if (book.title[0].toLowerCase() === letter.toLowerCase())
                        found.push(book)
                }
                return found
            }
        }

        const b = new Book('Seigneur des anneaux', 200);
        console.log(b.page)
        b.nextPage()
        console.log(b.page)
        b.close()
        console.log(b.page)

        const l = new Library()
        l.addBook(b)
        l.addBooks([
            new Book('Ready player one', 100),
            new Book('Oui-oui', 10),
            new Book('Sillage', 50),
        ])
        console.log(l.findBooksByLetter('o'))

*/

        class Rectangle {

            constructor(width, height) {
                if (width <= 0 || height <= 0)
                    throw new Error('Bad values of width or height')
                this.width = width
                this.height = height
            }

            get perimeter() {
                return (this.width + this.height) * 2
            }

            get isValid() {
                return this.width > 0 && this.height > 0
            }

            isBiggerThan(shape) {
                return this.perimeter > shape.perimeter 
            }
        }

        class Square extends Rectangle {
            constructor(width) {
                super(width, width)
            }
        }
        try {
            const r = new Rectangle(-10, 20);
        } catch (e) {
            console.log(e)
        }
        console.log(r.perimeter)
        console.log(r.isValid)


/*
        const phraseText = `Le texte généré est constitué de phrases, dont les mots sont selectionnés aleatoirement. Le tirage suit la repartition statistique dun referentiel textuel en langue francaise selon le principe des chaines de Markov En clair le generateur ne sait pas ce quil dit il ny a aucune regle semantique dans le moteur La base de reference est composee dun ensemble consequent de textes classiques dont une majorite de romans du XIXe siecle Quelle utilite Besoin de texte dapparence respectable pour tester une maquette ou simple curiosite Pour tester une maquette de site web ce faux texte est souvent utilise `
        const frequencies = {}
        const words = phraseText
            .toLowerCase()
            .replace(/[^a-zàâäéèêëîïôöùûüÿç\s]/g, '')
            .split(' ')

        

        for (let word of words) {
            if (word !== '') {
                if (frequencies[word]) {
                    frequencies[word]++
                }
                else
                {
                    frequencies[word] = 1
                }
            }
        }
        const frequenciesArray = []
        for (let k in frequencies) {
            frequenciesArray.push({
                word: k,
                count: frequencies[k]
            })
        }
        frequenciesArray.sort((a, b) => b.count - a.count)
        console.log(frequenciesArray)


/*
        const students = [
            {
                name : 'John',
                notes: [1, 20, 18, 19, 12]
            },
            {
                name: 'Jane',
                notes: [17, 18, 20, 13, 15]
            },
            {
                name: 'Sophie',
                notes: [17, 12, 14, 15, 13]
            },
            {
                name: 'Marc',
                notes: [2, 3, 5, 8, 9]
            },
            {
                name: 'Manon',
                notes: [8, 17, 18, 19, 12]
            }
        ]

        const moyenne = (notes) => {
            let sum = 0
            for (let note of notes) {
                sum = sum + note
            }
            return (sum / notes.length)
        }

        const compareStudent = (a, b) =>
        {
            return b.moyenne - a.moyenne
        }

        for (let student of students) {
            student.moyenne = moyenne(student.notes)
            student.min = Math.min(...student.notes)
            student.max = Math.max(...student.notes)
        }

        students.sort(compareStudent)

        console.log(`Top 3 étudiant :
        1: ${students[0].name} avec une moyenne de ${students[0].moyenne} !
        2: ${students[1].name} avec une moyenne de ${students[1].moyenne} !
        3: ${students[2].name} avec une moyenne de ${students[2].moyenne} !`)

       /* function isPalindrome (str) {
            const letter = (str.split(''))
            letter.reverse()
            const res = letter.join('')
            return str.toLowerCase()=== res.toLowerCase()

            
        }

        const words = {
            kayak: true,
            SOS: true, 
            Kayak: true,
            Bonjour: false,
        }

        for (let i in words) {
            if (isPalindrome(i) !== words[i]) {
                console.error(`isPalindrome(${i}) is false`)
            }
        }*/

    </script>
</head>
<body>
</body>
</html>